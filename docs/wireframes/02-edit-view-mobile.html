<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Du Lịch Hạ Long - Edit View (Mobile)</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#F0FDFA',
              100: '#CCFBF1',
              500: '#0D9488',
              600: '#0F766E',
              700: '#115E59',
            },
            category: {
              transport: '#3B82F6',
              'transport-bg': '#EFF6FF',
              food: '#F97316',
              'food-bg': '#FFF7ED',
              stay: '#8B5CF6',
              'stay-bg': '#F5F3FF',
              tickets: '#EC4899',
              'tickets-bg': '#FDF2F8',
              other: '#6B7280',
              'other-bg': '#F9FAFB',
            },
          },
          fontFamily: {
            sans: ['Source Sans 3', 'system-ui', 'sans-serif'],
            display: ['Lexend', 'system-ui', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
        },
      },
    }
  </script>
  
  <style>
    /* Prevent horizontal scroll */
    html, body {
      overflow-x: hidden;
    }
    
    /* Mobile viewport fix */
    body {
      min-height: 100vh;
      min-height: -webkit-fill-available;
    }
    
    /* Timeline connector */
    .timeline-connector {
      position: absolute;
      left: 15px;
      top: 32px;
      bottom: 0;
      width: 2px;
      background: #e5e7eb;
    }
    
    /* Category border */
    .category-transport { border-left-color: #3B82F6; }
    .category-food { border-left-color: #F97316; }
    .category-stay { border-left-color: #8B5CF6; }
    .category-tickets { border-left-color: #EC4899; }
    .category-other { border-left-color: #6B7280; }
    
    /* Bottom safe area for iOS */
    .bottom-bar {
      padding-bottom: max(16px, env(safe-area-inset-bottom));
    }
    
    /* Smooth scrolling */
    html {
      scroll-behavior: smooth;
    }
    
    /* Active touch state */
    .touch-active:active {
      transform: scale(0.98);
    }
  </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 pb-24">
  
  <!-- ANNOTATION: Mobile Header (Sticky) -->
  <!-- Compact header with essential actions. Menu button reveals more options. -->
  <header class="sticky top-0 z-50 bg-white border-b border-gray-200">
    <div class="px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Left: Back + Title -->
        <div class="flex items-center gap-3 min-w-0">
          <button class="p-2 -ml-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg touch-active">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
          </button>
          <div class="min-w-0">
            <h1 class="font-display font-semibold text-base text-gray-800 truncate">Du Lịch Hạ Long 2026</h1>
            <p class="text-xs text-gray-500">15 - 18/02 · 4 người</p>
          </div>
        </div>
        
        <!-- Right: Actions -->
        <div class="flex items-center gap-1">
          <button class="p-2.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg touch-active">
            <i data-lucide="settings" class="w-5 h-5"></i>
          </button>
          <button class="p-2.5 text-primary-500 hover:text-primary-600 hover:bg-primary-50 rounded-lg touch-active">
            <i data-lucide="share-2" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Main Content -->
  <main class="px-4 py-4">
    
    <!-- ANNOTATION: Day Section -->
    <!-- Each day has sticky header + vertical timeline with activity cards -->
    
    <!-- Day 1 -->
    <section class="mb-6">
      <!-- Day Header (Sticky) -->
      <div class="sticky top-16 z-40 bg-gray-50 py-2 -mx-4 px-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-2.5">
            <div class="w-9 h-9 rounded-lg bg-primary-500 flex items-center justify-center text-white font-display font-semibold text-sm">
              1
            </div>
            <div>
              <h2 class="font-display font-semibold text-base text-gray-800">Ngày 1</h2>
              <p class="text-xs text-gray-500">Thứ Bảy, 15/02</p>
            </div>
          </div>
          <button class="flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 rounded-lg touch-active">
            <i data-lucide="plus" class="w-3.5 h-3.5"></i>
            Thêm
          </button>
        </div>
      </div>
      
      <!-- Timeline -->
      <div class="relative mt-3 ml-4">
        <div class="timeline-connector"></div>
        
        <!-- Activity Card 1: Transport -->
        <div class="relative pl-8 pb-3">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-transport-bg border-2 border-category-transport flex items-center justify-center z-10">
            <i data-lucide="car" class="w-3.5 h-3.5 text-category-transport"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-transport shadow-sm touch-active">
            <div class="p-4">
              <!-- Time + Category -->
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  06:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-transport-bg text-category-transport rounded">
                  Di chuyển
                </span>
              </div>
              
              <!-- Title -->
              <h3 class="font-medium text-gray-800 text-sm mb-1">Xe từ Hà Nội đến Hạ Long</h3>
              
              <!-- Location -->
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Bến xe Mỹ Đình → Bãi Cháy
              </p>
              
              <!-- Cost Row -->
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div class="relative flex-1 max-w-[140px]">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                  <input type="text" value="600,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Activity Card 2: Stay -->
        <div class="relative pl-8 pb-3">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-stay-bg border-2 border-category-stay flex items-center justify-center z-10">
            <i data-lucide="bed" class="w-3.5 h-3.5 text-category-stay"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-stay shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  11:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-stay-bg text-category-stay rounded">
                  Lưu trú
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Check-in Khách sạn Mường Thanh</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Bãi Cháy, Hạ Long
              </p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div>
                  <div class="relative max-w-[140px]">
                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                    <input type="text" value="2,400,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                  </div>
                  <p class="text-xs text-gray-400 mt-1">2 phòng × 3 đêm</p>
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Activity Card 3: Food -->
        <div class="relative pl-8 pb-3">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-food-bg border-2 border-category-food flex items-center justify-center z-10">
            <i data-lucide="utensils" class="w-3.5 h-3.5 text-category-food"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-food shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  12:30
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-food-bg text-category-food rounded">
                  Ăn uống
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Ăn trưa hải sản Bãi Cháy</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Nhà hàng Hải sản Biển Đông
              </p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div class="relative max-w-[140px]">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                  <input type="text" value="800,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Activity Card 4: Tickets -->
        <div class="relative pl-8 pb-3">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-tickets-bg border-2 border-category-tickets flex items-center justify-center z-10">
            <i data-lucide="ticket" class="w-3.5 h-3.5 text-category-tickets"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-tickets shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  14:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-tickets-bg text-category-tickets rounded">
                  Vé
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Vé tham quan Sun World</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Sun World Hạ Long Park
              </p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div>
                  <div class="relative max-w-[140px]">
                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                    <input type="text" value="1,200,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                  </div>
                  <p class="text-xs text-gray-400 mt-1">4 người × 300k</p>
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Activity Card 5: Dinner -->
        <div class="relative pl-8">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-food-bg border-2 border-category-food flex items-center justify-center z-10">
            <i data-lucide="utensils" class="w-3.5 h-3.5 text-category-food"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-food shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  19:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-food-bg text-category-food rounded">
                  Ăn uống
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Ăn tối + BBQ hải sản</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Chợ đêm Bãi Cháy
              </p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div class="relative max-w-[140px]">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                  <input type="text" value="1,000,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Day 2 -->
    <section class="mb-6">
      <div class="sticky top-16 z-40 bg-gray-50 py-2 -mx-4 px-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-2.5">
            <div class="w-9 h-9 rounded-lg bg-primary-500 flex items-center justify-center text-white font-display font-semibold text-sm">
              2
            </div>
            <div>
              <h2 class="font-display font-semibold text-base text-gray-800">Ngày 2</h2>
              <p class="text-xs text-gray-500">Chủ Nhật, 16/02</p>
            </div>
          </div>
          <button class="flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-primary-600 bg-primary-50 rounded-lg touch-active">
            <i data-lucide="plus" class="w-3.5 h-3.5"></i>
            Thêm
          </button>
        </div>
      </div>
      
      <div class="relative mt-3 ml-4">
        <div class="timeline-connector"></div>
        
        <!-- Cruise Activity -->
        <div class="relative pl-8 pb-3">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-tickets-bg border-2 border-category-tickets flex items-center justify-center z-10">
            <i data-lucide="ship" class="w-3.5 h-3.5 text-category-tickets"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-tickets shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  08:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-tickets-bg text-category-tickets rounded">
                  Vé
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Tour du thuyền Vịnh Hạ Long</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Cảng tàu khách Tuần Châu
              </p>
              
              <!-- Expandable Notes -->
              <details class="mb-3">
                <summary class="text-xs text-gray-500 cursor-pointer flex items-center gap-1">
                  <i data-lucide="chevron-down" class="w-3 h-3"></i>
                  Xem ghi chú
                </summary>
                <p class="mt-2 text-xs text-gray-600 bg-gray-50 rounded-lg p-2.5">
                  Bao gồm: Hang Sửng Sốt, đảo Ti Tốp, chèo kayak. Ăn trưa trên tàu.
                </p>
              </details>
              
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div>
                  <div class="relative max-w-[140px]">
                    <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                    <input type="text" value="3,600,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                  </div>
                  <p class="text-xs text-gray-400 mt-1">4 người × 900k</p>
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Dinner Activity -->
        <div class="relative pl-8">
          <div class="absolute left-0 top-1.5 w-7 h-7 rounded-full bg-category-food-bg border-2 border-category-food flex items-center justify-center z-10">
            <i data-lucide="utensils" class="w-3.5 h-3.5 text-category-food"></i>
          </div>
          <div class="bg-white rounded-xl border border-gray-200 border-l-4 category-food shadow-sm touch-active">
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded font-mono">
                  18:00
                </span>
                <span class="inline-flex items-center px-2 py-0.5 text-xs font-medium uppercase tracking-wide bg-category-food-bg text-category-food rounded">
                  Ăn uống
                </span>
              </div>
              <h3 class="font-medium text-gray-800 text-sm mb-1">Ăn tối Hàu nướng phô mai</h3>
              <p class="text-xs text-gray-500 flex items-center gap-1 mb-3">
                <i data-lucide="map-pin" class="w-3 h-3"></i>
                Quán Hàu Sữa - Bãi Cháy
              </p>
              <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                <div class="relative max-w-[140px]">
                  <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm">₫</span>
                  <input type="text" value="600,000" class="w-full text-right font-mono font-medium text-sm text-gray-800 bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 pl-6 focus:outline-none focus:ring-2 focus:ring-primary-100 focus:border-primary-500">
                </div>
                <div class="flex items-center gap-1 ml-2">
                  <button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg">
                    <i data-lucide="edit-3" class="w-4 h-4"></i>
                  </button>
                  <button class="p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Add Day Button -->
    <div class="flex justify-center py-4">
      <button class="flex items-center gap-2 px-5 py-3 text-sm font-medium text-gray-600 bg-white border-2 border-dashed border-gray-300 rounded-xl touch-active">
        <i data-lucide="plus" class="w-4 h-4"></i>
        Thêm ngày mới
      </button>
    </div>
    
  </main>
  
  <!-- ANNOTATION: Bottom Cost Summary Bar (Fixed) -->
  <!-- Always visible on mobile. Tapping expands to full cost breakdown sheet. -->
  <div class="fixed bottom-0 left-0 right-0 z-50">
    <!-- Summary Bar -->
    <div class="bg-white border-t border-gray-200 shadow-lg bottom-bar">
      <div class="px-4 py-3">
        <div class="flex items-center justify-between">
          <!-- Cost Info -->
          <div>
            <p class="text-xs text-gray-500 mb-0.5">Tổng chi phí</p>
            <div class="flex items-baseline gap-2">
              <span class="text-xl font-display font-bold text-gray-800 font-mono">₫10,200,000</span>
              <span class="text-xs text-gray-500">·</span>
              <span class="text-sm text-primary-600 font-mono font-medium">₫2,550k/người</span>
            </div>
          </div>
          
          <!-- Expand Button -->
          <button id="expandCostBtn" class="flex items-center gap-1.5 px-4 py-2.5 text-sm font-medium text-white bg-primary-500 rounded-xl touch-active">
            <span>Chi tiết</span>
            <i data-lucide="chevron-up" class="w-4 h-4"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ANNOTATION: Cost Breakdown Sheet (Modal) -->
  <!-- Bottom sheet that slides up when user taps "Chi tiết" -->
  <div id="costSheet" class="fixed inset-0 z-[60] hidden">
    <!-- Backdrop -->
    <div id="costBackdrop" class="absolute inset-0 bg-black/50"></div>
    
    <!-- Sheet -->
    <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl max-h-[85vh] overflow-y-auto">
      <!-- Handle -->
      <div class="sticky top-0 bg-white pt-3 pb-2 border-b border-gray-100">
        <div class="w-10 h-1 bg-gray-300 rounded-full mx-auto mb-3"></div>
        <div class="px-4 flex items-center justify-between">
          <h2 class="font-display font-semibold text-lg text-gray-800">Chi tiết chi phí</h2>
          <button id="closeCostBtn" class="p-2 -mr-2 text-gray-500 hover:text-gray-700">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
      
      <!-- Content -->
      <div class="px-4 py-4 pb-8">
        <!-- Total -->
        <div class="bg-primary-50 rounded-xl p-4 mb-6">
          <p class="text-sm text-primary-700 mb-1">Tổng chi phí chuyến đi</p>
          <p class="text-3xl font-display font-bold text-primary-700 font-mono">₫10,200,000</p>
          <div class="flex items-center gap-3 mt-2 text-sm text-primary-600">
            <span class="flex items-center gap-1">
              <i data-lucide="users" class="w-4 h-4"></i>
              4 người
            </span>
            <span>·</span>
            <span class="font-mono font-medium">₫2,550,000/người</span>
          </div>
        </div>
        
        <!-- Category Breakdown -->
        <h3 class="font-display font-semibold text-gray-800 mb-3">Theo danh mục</h3>
        <div class="space-y-4 mb-6">
          <!-- Transport -->
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-category-transport"></div>
                <span class="text-sm text-gray-700">Di chuyển</span>
              </div>
              <span class="font-mono font-medium text-sm text-gray-800">₫600,000</span>
            </div>
            <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
              <div class="h-full bg-category-transport rounded-full" style="width: 5.9%"></div>
            </div>
          </div>
          
          <!-- Stay -->
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-category-stay"></div>
                <span class="text-sm text-gray-700">Lưu trú</span>
              </div>
              <span class="font-mono font-medium text-sm text-gray-800">₫2,400,000</span>
            </div>
            <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
              <div class="h-full bg-category-stay rounded-full" style="width: 23.5%"></div>
            </div>
          </div>
          
          <!-- Food -->
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-category-food"></div>
                <span class="text-sm text-gray-700">Ăn uống</span>
              </div>
              <span class="font-mono font-medium text-sm text-gray-800">₫2,400,000</span>
            </div>
            <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
              <div class="h-full bg-category-food rounded-full" style="width: 23.5%"></div>
            </div>
          </div>
          
          <!-- Tickets -->
          <div>
            <div class="flex items-center justify-between mb-1.5">
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-full bg-category-tickets"></div>
                <span class="text-sm text-gray-700">Vé tham quan</span>
              </div>
              <span class="font-mono font-medium text-sm text-gray-800">₫4,800,000</span>
            </div>
            <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
              <div class="h-full bg-category-tickets rounded-full" style="width: 47.1%"></div>
            </div>
          </div>
        </div>
        
        <!-- Daily Breakdown -->
        <h3 class="font-display font-semibold text-gray-800 mb-3">Theo ngày</h3>
        <div class="bg-gray-50 rounded-xl divide-y divide-gray-200">
          <div class="flex items-center justify-between px-4 py-3">
            <span class="text-sm text-gray-700">Ngày 1 - Thứ Bảy, 15/02</span>
            <span class="font-mono font-medium text-sm text-gray-800">₫6,000,000</span>
          </div>
          <div class="flex items-center justify-between px-4 py-3">
            <span class="text-sm text-gray-700">Ngày 2 - Chủ Nhật, 16/02</span>
            <span class="font-mono font-medium text-sm text-gray-800">₫4,200,000</span>
          </div>
        </div>
        
        <!-- Share Button -->
        <button class="w-full mt-6 flex items-center justify-center gap-2 px-4 py-3.5 text-sm font-medium text-white bg-primary-500 rounded-xl touch-active">
          <i data-lucide="share-2" class="w-4 h-4"></i>
          Tạo link chia sẻ
        </button>
      </div>
    </div>
  </div>
  
  <!-- Initialize Lucide Icons -->
  <script>
    lucide.createIcons();
    
    // Cost sheet toggle
    const expandBtn = document.getElementById('expandCostBtn');
    const closeBtn = document.getElementById('closeCostBtn');
    const backdrop = document.getElementById('costBackdrop');
    const sheet = document.getElementById('costSheet');
    
    expandBtn?.addEventListener('click', () => {
      sheet.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    });
    
    const closeSheet = () => {
      sheet.classList.add('hidden');
      document.body.style.overflow = '';
    };
    
    closeBtn?.addEventListener('click', closeSheet);
    backdrop?.addEventListener('click', closeSheet);
  </script>
  
  <!-- WIREFRAME ANNOTATIONS -->
  <!--
  ===========================================
  MOBILE EDIT VIEW - WIREFRAME ANNOTATIONS
  ===========================================
  
  LAYOUT:
  - Single column layout
  - Fixed bottom cost summary bar
  - Full-height scrollable content
  - Bottom sheet for cost details
  
  HEADER (64px):
  - Back button (navigation)
  - Truncated trip title
  - Date & people count
  - Settings & Share icons
  
  DAY SECTIONS:
  - Sticky day header (sticks below main header at 64px)
  - Compact day badge (36px square)
  - "Add activity" button inline
  
  ACTIVITY CARDS (Mobile optimized):
  - Smaller icons and typography
  - Time + Category chips at top
  - Title and location
  - Cost input with edit/delete buttons at bottom
  - Collapsible notes
  - 4px left border for category color
  - Touch target compliance (44px min)
  
  BOTTOM COST BAR:
  - Fixed at bottom (z-50)
  - Shows total and per-person
  - "Chi tiết" button expands to sheet
  - Safe area padding for iOS
  
  COST BREAKDOWN SHEET:
  - Bottom sheet pattern
  - Backdrop overlay
  - Drag handle indicator
  - Category breakdown with progress bars
  - Daily breakdown
  - Share CTA
  
  TOUCH TARGETS:
  - All buttons minimum 44px
  - Adequate spacing between actions
  - Active state feedback (scale)
  
  RESPONSIVE NOTES:
  - This layout for < 768px (md breakpoint)
  - Tablet (768-1023px) would show floating cost button
  - Desktop (1024px+) shows two-column layout
  -->
</body>
</html>
